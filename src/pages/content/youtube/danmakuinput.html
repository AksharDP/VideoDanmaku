<div class="danmaku-input-container">
    <div class="danmaku-style-popup">
        <button class="danmaku-style-button">
            Style
            <svg
                xmlns="http://www.w3.org/2000/svg"
                width="16"
                height="16"
                viewBox="0 0 24 24"
                fill="none"
                stroke="currentColor"
                stroke-width="2"
                stroke-linecap="round"
                stroke-linejoin="round"
                class="chevron-icon chevron-down"
            >
                <path d="m6 9 6 6 6-6" />
            </svg>
        </button>
        <div class="danmaku-style-menu">
            <div class="style-section">
                <div class="style-section-title">Color</div>
                <div class="color-grid">
                    <div
                        class="color-box"
                        data-color="#FF0000"
                        style="background-color: #ff0000"
                    ></div>
                    <div
                        class="color-box"
                        data-color="#FFA500"
                        style="background-color: #ffa500"
                    ></div>
                    <div
                        class="color-box"
                        data-color="#FFFF00"
                        style="background-color: #ffff00"
                    ></div>
                    <div
                        class="color-box"
                        data-color="#00FF00"
                        style="background-color: #00ff00"
                    ></div>
                    <div
                        class="color-box"
                        data-color="#00BFFF"
                        style="background-color: #00bfff"
                    ></div>
                    <div
                        class="color-box"
                        data-color="#4B0082"
                        style="background-color: #4b0082"
                    ></div>
                    <div
                        class="color-box"
                        data-color="#EE82EE"
                        style="background-color: #ee82ee"
                    ></div>
                    <div
                        class="color-box"
                        data-color="#000000"
                        style="background-color: #000000"
                    ></div>
                    <div
                        class="color-box selected-color"
                        data-color="#FFFFFF"
                        style="background-color: #ffffff"
                    ></div>
                    <input
                        type="color"
                        id="custom-color-picker"
                        class="color-box"
                        value="#ffffff"
                    />
                </div>
            </div>
            <div class="style-section">
                <div class="style-section-title">Position</div>
                <div class="position-selector">
                    <button
                        class="position-option"
                        data-position="top"
                        title="Top"
                    >
                        <svg
                            xmlns="http://www.w3.org/2000/svg"
                            width="24"
                            height="24"
                            viewBox="0 0 24 24"
                            fill="none"
                            stroke="currentColor"
                            stroke-width="2"
                            stroke-linecap="round"
                            stroke-linejoin="round"
                            class="lucide lucide-panel-top-icon lucide-panel-top"
                        >
                            <rect width="18" height="18" x="3" y="3" rx="2" />
                            <path d="M3 9h18" />
                        </svg>
                    </button>
                    <button
                        class="position-option selected-position"
                        data-position="slide"
                        title="Slide"
                    >
                        <svg
                            xmlns="http://www.w3.org/2000/svg"
                            width="24"
                            height="24"
                            viewBox="0 0 24 24"
                            fill="none"
                            stroke="currentColor"
                            stroke-width="2"
                            stroke-linecap="round"
                            stroke-linejoin="round"
                        >
                            <rect width="18" height="18" x="3" y="3" rx="2" />
                            <path d="M19 8H13" />
                            <path d="M17 12H7" />
                            <path d="M19 16H11" />
                        </svg>
                    </button>
                    <button
                        class="position-option"
                        data-position="bottom"
                        title="Bottom"
                    >
                        <svg
                            xmlns="http://www.w3.org/2000/svg"
                            width="24"
                            height="24"
                            viewBox="0 0 24 24"
                            fill="none"
                            stroke="currentColor"
                            stroke-width="2"
                            stroke-linecap="round"
                            stroke-linejoin="round"
                            class="lucide lucide-panel-bottom-icon lucide-panel-bottom"
                        >
                            <rect width="18" height="18" x="3" y="3" rx="2" />
                            <path d="M3 15h18" />
                        </svg>
                    </button>
                </div>
            </div>
        </div>
    </div>

    <div class="danmaku-input-wrapper">
        <input
            type="text"
            id="danmaku-input-field"
            class="danmaku-input"
            placeholder="Add a danmaku comment..."
            autocomplete="off"
            autocorrect="off"
            autocapitalize="off"
            spellcheck="false"
        />
        <div class="danmaku-comments-count">
            <span id="danmaku-comments-loaded">Loading comments...</span>
        </div>
        <div id="danmaku-login-prompt" style="display: none">
            <span class="line"></span>
            <span class="text">Login/Signup</span>
            <span class="line"></span>
        </div>
        <div
            id="danmaku-char-count"
            class="danmaku-char-count"
            style="display: none"
        >
            <span id="current-char-count">0</span>/
        </div>
    </div>

    <button class="danmaku-comment-button">Comment</button>
</div>
